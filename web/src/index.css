/* ==================== Tailwind CSS 配置 ==================== */
@layer tailwind-base, semi, tailwind-components, tailwind-utils;

@layer tailwind-base {
  @tailwind base;
}

@layer tailwind-components {
  @tailwind components;
}

@layer tailwind-utils {
  @tailwind utilities;
}

/* ==================== 全局 CSS 变量系统 (Theming) ==================== */
:root {
  /* 品牌色 - 琥珀黄 #FFD52A */
  --brand-color: #FFD52A;
  --brand-color-hover: #E5BF26;
  --brand-color-active: #CCAA22;
  --brand-text-on-color: #1A1A1A; /* 黄色背景上的文字颜色必须是深色 */

  /* Semi UI 变量覆盖 - 将所有 Primary 映射到我们的品牌色 */
  --semi-color-primary: var(--brand-color);
  --semi-color-primary-hover: var(--brand-color-hover);
  --semi-color-primary-active: var(--brand-color-active);
  --semi-color-primary-disabled: rgba(255, 213, 42, 0.4);
  --semi-color-primary-light-default: rgba(255, 213, 42, 0.1);
  --semi-color-primary-light-hover: rgba(255, 213, 42, 0.2);
  --semi-color-primary-light-active: rgba(255, 213, 42, 0.3);

  /* 全局圆角 - 更圆润 */
  --semi-border-radius-small: 6px;
  --semi-border-radius-medium: 8px;
  --semi-border-radius-large: 12px;
  --semi-border-radius-circle: 50%;

  /* 布局变量 */
  --sidebar-width: 240px; /* 稍微加宽以适应现代设计 */
  --sidebar-width-collapsed: 72px;
  --header-height: 64px;
}

/* ==================== 深色模式适配 ==================== */
body {
  @apply bg-surface-light text-slate-800 antialiased;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* 强制覆盖 Semi UI 的默认背景 */
body, #root {
  background-color: var(--semi-color-bg-0);
}

/* 亮色模式下的 Semi 变量微调 */
:root {
  --semi-color-bg-0: #F8FAFC; /* Slate-50 */
  --semi-color-bg-1: #FFFFFF;
  --semi-color-bg-2: #F1F5F9;
  --semi-color-bg-3: #E2E8F0;
  --semi-color-bg-4: #CBD5E1;

  --semi-color-text-0: #1E293B; /* Slate-800 */
  --semi-color-text-1: #334155; /* Slate-700 */
  --semi-color-text-2: #64748B; /* Slate-500 */
}

/* 深色模式下的 Semi 变量微调 */
html.dark body {
  @apply bg-surface-dark text-slate-100;
}

body[theme-mode='dark'] {
  --semi-color-bg-0: #0F172A; /* Slate-900 */
  --semi-color-bg-1: #1E293B; /* Slate-800 */
  --semi-color-bg-2: #334155; /* Slate-700 */
  --semi-color-bg-3: #475569;
  --semi-color-bg-4: #64748B;

  --semi-color-text-0: #F8FAFC;
  --semi-color-text-1: #E2E8F0;
  --semi-color-text-2: #94A3B8;

  --semi-color-border: #334155;
  --semi-color-nav-bg: #0F172A;
}

/* ==================== 实用工具类 (Utilities) ==================== */

/* 玻璃拟态 - Glassmorphism */
.glass {
  @apply backdrop-blur-md bg-white/70 border border-white/20 shadow-glass;
}

.dark .glass {
  @apply bg-slate-900/70 border-white/10;
}

/* 现代卡片 - Modern Card */
.modern-card {
  @apply bg-white dark:bg-surface-card-dark rounded-xl shadow-soft border border-slate-100 dark:border-slate-700 transition-all duration-300 hover:shadow-lg;
}

/* 品牌按钮 - Brand Button */
/* 重要：重置 Semi UI 按钮样式以适配黄色背景+深色文字 */
.semi-button-primary {
  background-color: var(--brand-color) !important;
  color: var(--brand-text-on-color) !important;
  font-weight: 600 !important;
  border: none !important;
  transition: all 0.2s ease !important;
}

.semi-button-primary:hover {
  background-color: var(--brand-color-hover) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 213, 42, 0.4);
}

.semi-button-primary:active {
  background-color: var(--brand-color-active) !important;
  transform: translateY(0);
}

/* 侧边栏容器重置 */
.sidebar-container {
  height: 100%;
  display: flex;
  flex-direction: column;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  /* 移除默认背景，让它浮动 */
  background: transparent;
}

/* 导航项现代化 */
.sidebar-nav-item {
  border-radius: 12px; /* 更圆润 */
  margin: 4px 12px;
  padding: 10px 16px;
  color: var(--semi-color-text-2);
  transition: all 0.2s ease;
}

.sidebar-nav-item:hover {
  background-color: rgba(255, 213, 42, 0.15) !important;
  color: var(--semi-color-text-0);
}

.sidebar-nav-item-selected {
  background-color: var(--brand-color) !important;
  color: var(--brand-text-on-color) !important;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(255, 213, 42, 0.3);
}

/* 滚动条隐藏但保留功能 */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
